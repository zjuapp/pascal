sub esp, 12
xor esi,esi
mov esi, 4
mov ebp, esp
mov [ebp + 4], esi
xor esi,esi
mov esi, 0
mov ebp, esp
mov [ebp + 8], esi
mov ebp, esp
mov esi, [ebp + 4]
xor edi,edi
mov edi, 3
cmp edi, esi
pushf
pop eax
shr eax, 7
and eax, 1
mov esi, eax
cmp esi, 0
jz caab
xor esi,esi
mov esi, 0
mov ebp, esp
mov [ebp + 8], esi
eaab:
xor esi,esi
mov esi, 10
mov eax, [ebp + 8]
cmp eax, esi
jz faab
mov ebp, esp
mov esi, [ebp + 4]
xor edi,edi
mov edi, 4
add esi, edi
mov ebp, esp
mov [ebp + 4], esi
mov eax, [ebp + 8]
add eax, 1
mov [ebp + 8], eax
jmp eaab
faab:jmp daab
caab:
gaab:
mov ebp, esp
mov esi, [ebp + 4]
xor edi,edi
mov edi, 1
cmp edi, esi
pushf
pop eax
shr eax, 7
and eax, 1
mov esi, eax
cmp esi, 0
jz haab
mov ebp, esp
mov esi, [ebp + 4]
xor edi,edi
mov edi, 1
sub esi, edi
mov ebp, esp
mov [ebp + 4], esi
jmp gaab
haab:;daab:
baab:
iaab:mov ebp, esp
mov esi, [ebp + 4]
xor edi,edi
mov edi, 10
sub esi, edi
mov ebp, esp
mov [ebp + 4], esi
mov ebp, esp
mov esi, [ebp + 8]
xor edi,edi
mov edi, 1
add esi, edi
mov ebp, esp
mov [ebp + 8], esi
mov ebp, esp
mov esi, [ebp + 8]
xor edi,edi
mov edi, 10
cmp edi, esi
pushf
pop eax
shr eax, 7
and eax, 1
mov esi, eax
cmp esi, 0
jz iaab
mov ebp, esp
mov esi, [ebp + 8]
xor edi,edi
mov edi, 4
mov eax, esi
idiv edi
mov esi, edx
cmp esi, 0
jz jaab
cmp esi, 2
jz kaab
cmp esi, 2
jz laab
cmp esi, 3
jz maab

jaab:
xor esi,esi
mov esi, 0
mov ebp, esp
mov [ebp + 0], esi
jmp naab
kaab:
xor esi,esi
mov esi, 1
mov ebp, esp
mov [ebp + 0], esi
jmp naab
laab:
xor esi,esi
mov esi, 2
mov ebp, esp
mov [ebp + 0], esi
jmp naab
maab:
xor esi,esi
mov esi, 3
mov ebp, esp
mov [ebp + 0], esi
jmp naab
naab:;
jmp baab
mov ah, 4ch
int 21h
outer_add:
mov ebp, esp
mov esi, [ebp + 12]
mov ebp, esp
mov edi, [ebp + 8]
add esi, edi
mov ebp, esp
mov [ebp + 16], esi
ret
